{% extends 'structure/base.html' %}

{% load static %}

{% block title %} {{ title }} {% endblock title %}

{% block css %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'structure/css/employees-list.css' %}" xmlns="http://www.w3.org/1999/html">
{% endblock %}

{% block content %}


<div class="main-section">
    <div class="main-section__table">
        <!-- Список сотрудников -->
        <table>
            <thead>
            <tr>
                <!-- Заголовки столбцов таблицы -->

                <!-- Заголовок имени сотрудника -->
                <th scope="col" style="width: 10%">
                    <small>
                        Имя
                    </small>
                </th>

                <!-- Заголовок фамилии сотрудника -->
                <th scope="col" style="width: 10%">
                    <small>
                        Фамилия
                    </small>
                </th>

                <!-- Заголовок отчество сотрудника -->
                <th scope="col" style="width: 15%">
                    <small>
                        Отчество
                    </small>
                </th>

                <!-- Заголовок должности сотрудника -->
                <th scope="col" style="width: 25%">
                    <small>
                        Должность
                    </small>
                </th>

                <!-- Заголовок дата приёма на работу -->
                <th scope="col" style="width: 15%">
                    <small>
                        Дата приёма на работу
                    </small>
                </th>

                <!-- Заголовок зарплаты сотрудника -->
                <th scope="col" style="width: 8%">
                    <small>
                        Зарплата
                    </small>
                </th>

                <!-- Заголовок кнопок действия -->
                <th scope="col" style="width: 8%">
                    <small>
                        Actions
                    </small>
                </th>

            </tr>
            </thead>

            <!-- Список сотрудников -->
            <tbody id="employees-list">
            {% for employee in employees %}
                {% include "structure/employee-detail.html" %}
            {% endfor %}
            </tbody>

        </table>
    </div>
    <div class="main-section__navigation">
        <nav aria-label="Page navigation example">
            <ul class="pagination">
            <li class="page-item {% if not employees.has_previous %} disabled {% endif %}">
                <a class="page-link" href="{% if employees.has_previous %} {% url 'structure:employees_list' position_id employees.previous_page_number %} {% else %} # {% endif %}">Предыдущая</a>
            </li>
            {% for page in employees.paginator.get_elided_page_range %}

                {% if employees.number == page or page == "…" %}
                    <li class="page-item disabled"><a class="page-link" href="#">{{page}}</a></li>
                {% else %}
                    <li class="page-item"><a class="page-link" href="{% url 'structure:employees_list' position_id page %}">{{page}}</a></li>
                {% endif %}
            {% endfor %}
            <li class="page-item {% if not employees.has_next %} disabled {% endif %}">
                <a class="page-link" href="{% if employees.has_next %} {% url 'structure:employees_list' position_id employees.next_page_number %} {% else %} # {% endif %}">Следующая</a>
            </li>
            </ul>
        </nav>
    </div>
</div>


{% endblock %}

{% block script %}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
{% endblock script %}
